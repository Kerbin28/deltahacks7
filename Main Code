int sensorPin = A0;    // select the analog input pin
int ledPin = 3;       // select the pin for the output
int  sensorValue;   // variable to store the value coming from the sensor
int ledpurple = 5;
int button = 6;


void setup () {
  pinMode (ledPin, OUTPUT); //setup output
  Serial.begin (9600); //setup communication rate
}
int stage =1;
int count = 0;
bool refill = 0;
 
void loop () {
  

  sensorValue = analogRead (sensorPin);  //setup variable that stores sensor's return values
  delay(100);
 

  if (stage==1&&sensorValue>100){
    stage=2;
    digitalWrite (ledPin, LOW);
  }
  else if(stage==2&&sensorValue<50){
    delay(500);
    digitalWrite (ledPin, HIGH);
    count++;
    delay(2000);
    digitalWrite (ledPin, LOW);
    stage = 1;
  }
  if (count == 50){
    digitalWrtite(ledpurple, HIGH);
    refill = 1;
  }

  if(refill ==1 && button = 1){
    count =0;
    digitalWrtite(ledpurple, LOW);
  }
  

  Serial.println (sensorValue, DEC); //prints output values from sensor
  

 Serial.println(sensorValue); 
 delay (100);
}
